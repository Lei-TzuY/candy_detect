# ğŸ¬ ç³–æœç‘•ç–µåµæ¸¬ç³»çµ± - ä½¿ç”¨æ‰‹å†Š

**ç‰ˆæœ¬ï¼š** v1.0.0  
**æ—¥æœŸï¼š** 2026-01-28  
**é©ç”¨å°è±¡ï¼š** å» å•†æ“ä½œäººå“¡ã€ç¶­è­·äººå“¡

---

## ğŸ“‘ ç›®éŒ„

1. [ç³»çµ±æ¦‚è¿°](#ç³»çµ±æ¦‚è¿°)
2. [ç³»çµ±æ¶æ§‹](#ç³»çµ±æ¶æ§‹)
3. [å®‰è£èˆ‡è¨­å®š](#å®‰è£èˆ‡è¨­å®š)
4. [åŸºæœ¬æ“ä½œ](#åŸºæœ¬æ“ä½œ)
5. [é€²éšåŠŸèƒ½](#é€²éšåŠŸèƒ½)
6. [æª¢æ¸¬æµç¨‹](#æª¢æ¸¬æµç¨‹)
7. [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)
8. [ç¶­è­·æŒ‡å—](#ç¶­è­·æŒ‡å—)
9. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## ç³»çµ±æ¦‚è¿°

### ç³»çµ±åŠŸèƒ½
ç³–æœç‘•ç–µåµæ¸¬ç³»çµ±æ˜¯ä¸€å€‹åŸºæ–¼ AI è¦–è¦ºè¾¨è­˜çš„å“è³ªæª¢æ¸¬ç³»çµ±ï¼Œèƒ½å¤ ï¼š

- âœ… **å³æ™‚åµæ¸¬**ï¼šè‡ªå‹•è­˜åˆ¥ç³–æœè¡¨é¢ç‘•ç–µ
- ğŸ¯ **è‡ªå‹•åˆ†é¡**ï¼šå€åˆ†æ­£å¸¸ç³–æœèˆ‡ç‘•ç–µç³–æœ
- ğŸ”§ **è‡ªå‹•å‰”é™¤**ï¼šè§¸ç™¼ç¹¼é›»å™¨è‡ªå‹•ç§»é™¤ç‘•ç–µå“
- ğŸ“Š **æ•¸æ“šçµ±è¨ˆ**ï¼šè¨˜éŒ„ä¸¦åˆ†ææª¢æ¸¬æ•¸æ“š
- ğŸ“¹ **å½±åƒéŒ„è£½**ï¼šä¿å­˜æª¢æ¸¬éç¨‹å½±åƒä¾›å¾ŒçºŒåˆ†æ

### æŠ€è¡“è¦æ ¼

| é …ç›® | è¦æ ¼ |
|------|------|
| æ”å½±æ©Ÿè§£æåº¦ | 1920Ã—1080 (Full HD) |
| æª¢æ¸¬é€Ÿåº¦ | ç´„ 30 FPS |
| AI æ¨¡å‹ | YOLOv8 / YOLO11 |
| ä¿¡å¿ƒåº¦é–¾å€¼ | 60% (å¯èª¿æ•´) |
| æ”¯æ´æ”å½±æ©Ÿæ•¸é‡ | æœ€å¤š 2 å° |
| ä½œæ¥­ç³»çµ± | Windows 10/11 |

---

## ç³»çµ±æ¶æ§‹

### æ•´é«”æ¶æ§‹åœ–

```mermaid
graph TB
    subgraph "å‰ç«¯ä»‹é¢"
        A[Web ç€è¦½å™¨] --> B[Flask Web Server]
    end
    
    subgraph "æ ¸å¿ƒç³»çµ±"
        B --> C[åµæ¸¬å¼•æ“]
        C --> D[YOLOv8/11 æ¨¡å‹]
        C --> E[è¿½è¹¤ç³»çµ±]
        C --> F[å½±åƒè™•ç†]
    end
    
    subgraph "ç¡¬é«”è¨­å‚™"
        G[USB æ”å½±æ©Ÿ 1] --> C
        H[USB æ”å½±æ©Ÿ 2] --> C
        C --> I[ç¹¼é›»å™¨æ§åˆ¶]
        I --> J[å™´æ°£è£ç½®]
    end
    
    subgraph "æ•¸æ“šå„²å­˜"
        C --> K[SQLite è³‡æ–™åº«]
        C --> L[éŒ„å½±æª”æ¡ˆ]
        C --> M[æª¢æ¸¬è¨˜éŒ„]
    end
```

### æª”æ¡ˆçµæ§‹

```
candy_detect/
â”œâ”€â”€ src/                      # æ ¸å¿ƒç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ web_app.py           # Web ä¼ºæœå™¨
â”‚   â”œâ”€â”€ run_detector.py      # åµæ¸¬å¼•æ“
â”‚   â””â”€â”€ video_recorder.py    # éŒ„å½±æ¨¡çµ„
â”œâ”€â”€ candy_detector/           # åµæ¸¬å™¨æ¨¡çµ„
â”‚   â”œâ”€â”€ models.py            # è³‡æ–™æ¨¡å‹
â”‚   â”œâ”€â”€ config.py            # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ constants.py         # å¸¸æ•¸å®šç¾©
â”œâ”€â”€ static/                   # å‰ç«¯è³‡æº
â”‚   â”œâ”€â”€ script.js            # JavaScript
â”‚   â””â”€â”€ style.css            # æ¨£å¼è¡¨
â”œâ”€â”€ templates/                # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html           # ä¸»é é¢
â”‚   â””â”€â”€ trainer.html         # è¨“ç·´é é¢
â”œâ”€â”€ models/                   # AI æ¨¡å‹æª”æ¡ˆ
â”œâ”€â”€ datasets/                 # è¨“ç·´è³‡æ–™é›†
â”œâ”€â”€ recordings/               # éŒ„å½±æª”æ¡ˆ
â”œâ”€â”€ logs/                     # ç³»çµ±æ—¥èªŒ
â”œâ”€â”€ config.ini               # ä¸»è¦é…ç½®æª”
â”œâ”€â”€ start_all.bat            # å•Ÿå‹•è…³æœ¬
â””â”€â”€ requirements.txt         # Python å¥—ä»¶æ¸…å–®
```

---

## å®‰è£èˆ‡è¨­å®š

### ğŸ”§ ç³»çµ±éœ€æ±‚

#### ç¡¬é«”éœ€æ±‚
- CPU: Intel i5 æˆ–ä»¥ä¸Š (å»ºè­° i7)
- RAM: 8GB ä»¥ä¸Š (å»ºè­° 16GB)
- GPU: NVIDIA GPU (å¯é¸ï¼Œç”¨æ–¼åŠ é€Ÿ)
- å„²å­˜ç©ºé–“: 50GB ä»¥ä¸Š
- USB 3.0 æ¥å£: 2 å€‹ä»¥ä¸Š

#### è»Ÿé«”éœ€æ±‚
- Windows 10/11 (64-bit)
- Python 3.8-3.11
- CUDA 11.8+ (å¦‚ä½¿ç”¨ GPU)
- Git (ç”¨æ–¼ç‰ˆæœ¬æ§åˆ¶)

### ğŸ“¦ å®‰è£æ­¥é©Ÿ

#### 1. å®‰è£ Python
```powershell
# ä¸‹è¼‰ä¸¦å®‰è£ Python 3.10
# ç¶²å€: https://www.python.org/downloads/
# âš ï¸ å®‰è£æ™‚å‹¾é¸ "Add Python to PATH"
```

#### 2. å…‹éš†å°ˆæ¡ˆ
```powershell
# å¾ GitHub ä¸‹è¼‰å°ˆæ¡ˆ
git clone https://github.com/Lei-TzuY/candy_detect.git
cd candy_detect
```

#### 3. å®‰è£ Python å¥—ä»¶
```powershell
# å®‰è£æ‰€æœ‰å¿…è¦å¥—ä»¶
pip install -r requirements.txt
```

#### 4. é…ç½®æ”å½±æ©Ÿå’Œç¹¼é›»å™¨

ç·¨è¼¯ `config.ini` æª”æ¡ˆï¼š

```ini
[Camera1]
camera_index = 0              # æ”å½±æ©Ÿç·¨è™Ÿ (0, 1, 2...)
camera_name = Camera 1        # é¡¯ç¤ºåç¨±
frame_width = 1920           # è§£æåº¦å¯¬åº¦
frame_height = 1080          # è§£æåº¦é«˜åº¦
relay_url = http://localhost:8080/api/relay/Relay2?value=1  # ç¹¼é›»å™¨ API
detection_line_x1 = 500      # åµæ¸¬ç·šèµ·é»
detection_line_x2 = 1100     # åµæ¸¬ç·šçµ‚é»
exposure_value = -7          # æ›å…‰å€¼
default_focus = 80           # é è¨­ç„¦è·

[Detection]
confidence_threshold = 0.6   # ä¿¡å¿ƒåº¦é–¾å€¼ (0.0-1.0)
nms_threshold = 0.45        # NMS é–¾å€¼
```

#### 5. æº–å‚™ AI æ¨¡å‹

å°‡è¨“ç·´å¥½çš„æ¨¡å‹æª”æ¡ˆæ”¾ç½®åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ï¼š
- `yolov8n.pt` (å°å‹æ¨¡å‹)
- `yolov8s.pt` (ä¸­å‹æ¨¡å‹)
- `yolov8m.pt` (å¤§å‹æ¨¡å‹)
- æˆ–è‡ªè¨“ç·´æ¨¡å‹æ”¾åœ¨ `models/` è³‡æ–™å¤¾

---

## åŸºæœ¬æ“ä½œ

### ğŸš€ å•Ÿå‹•ç³»çµ±

#### æ–¹æ³• 1: ä½¿ç”¨æ‰¹æ¬¡æª” (å»ºè­°)
```powershell
# é›™æ“ŠåŸ·è¡Œ
start_all.bat
```

#### æ–¹æ³• 2: æ‰‹å‹•å•Ÿå‹•
```powershell
# å•Ÿå‹• Web æœå‹™
python src/web_app.py

# åœ¨ç€è¦½å™¨é–‹å•Ÿ
# http://localhost:5000
```

### ğŸ–¥ï¸ Web ä»‹é¢æ“ä½œ

#### ä¸»æ§å°ä»‹é¢

![ä¸»æ§å°ç¤ºæ„åœ–]

**ä»‹é¢èªªæ˜ï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¬ ç³–æœç‘•ç–µåµæ¸¬ç³»çµ±                                            â”‚
â”‚ ğŸ“Š å„€è¡¨æ¿ | ğŸ“œ æ­·å²è¨˜éŒ„ | âš™ï¸ ç³»çµ±è¨­å®š                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¥ éŒ„å½± | ğŸ¤– è¨“ç·´ | ğŸ·ï¸ æ¨™è¨» | ğŸ”„ | ğŸŒ™ | A- é‡è¨­ A+ |         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â¸ï¸ æš«åœæ‰€æœ‰é¡é ­  ğŸ” é‡æ–°åµæ¸¬é¡é ­                               â”‚
â”‚                                                              â”‚
â”‚ æ–°å¢æ”å½±æ©Ÿ: [-- é¸æ“‡æ”å½±æ©Ÿ --â–¼]  â• æ–°å¢                      â”‚
â”‚ ğŸ¤– æ¨¡å‹ç‰ˆæœ¬: [yolo11m (38.8MB) | 2026-01-26 14:14 â–¼] ç•¶å‰ä½¿ç”¨â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Camera 1                  â”‚ â”‚ Camera 2                  â”‚ â”‚
â”‚ â”‚ åˆ‡æ›ä¾†æº: [ä¾†æº 0 (ç•¶å‰)â–¼] â”‚ â”‚ åˆ‡æ›ä¾†æº: [ä¾†æº 1 (ç•¶å‰)â–¼] â”‚ â”‚
â”‚ â”‚ â¸ï¸ æš«åœ  âŒ ç§»é™¤           â”‚ â”‚ â¸ï¸ æš«åœ  âŒ ç§»é™¤           â”‚ â”‚
â”‚ â”‚                           â”‚ â”‚                           â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚ â”‚ â”‚                     â”‚  â”‚ â”‚ â”‚                     â”‚  â”‚ â”‚
â”‚ â”‚ â”‚  å³æ™‚å½±åƒé¡¯ç¤ºå€      â”‚  â”‚ â”‚ â”‚  å³æ™‚å½±åƒé¡¯ç¤ºå€      â”‚  â”‚ â”‚
â”‚ â”‚ â”‚  (å¸¶åµæ¸¬æ¡†)         â”‚  â”‚ â”‚ â”‚  (å¸¶åµæ¸¬æ¡†)         â”‚  â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚ â”‚                           â”‚ â”‚                           â”‚ â”‚
â”‚ â”‚ ğŸ“Š çµ±è¨ˆè³‡è¨Š:              â”‚ â”‚ ğŸ“Š çµ±è¨ˆè³‡è¨Š:              â”‚ â”‚
â”‚ â”‚ ç¸½åµæ¸¬æ•¸: 1               â”‚ â”‚ ç¸½åµæ¸¬æ•¸: 0               â”‚ â”‚
â”‚ â”‚ âœ… æ­£å¸¸å“: 0              â”‚ â”‚ âœ… æ­£å¸¸å“: 0              â”‚ â”‚
â”‚ â”‚ âŒ ç‘•ç–µå“: 1              â”‚ â”‚ âŒ ç‘•ç–µå“: 0              â”‚ â”‚
â”‚ â”‚ ç‘•ç–µç‡: 100%              â”‚ â”‚ ç‘•ç–µç‡: 0%                â”‚ â”‚
â”‚ â”‚                           â”‚ â”‚                           â”‚ â”‚
â”‚ â”‚ ğŸ® æ§åˆ¶é¸é …:              â”‚ â”‚ ğŸ® æ§åˆ¶é¸é …:              â”‚ â”‚
â”‚ â”‚ ğŸš« é—œé–‰æ¨™è¨˜æ¡†              â”‚ â”‚ ğŸš« é—œé–‰æ¨™è¨˜æ¡†              â”‚ â”‚
â”‚ â”‚ ğŸ’¨ æ¸¬è©¦å™´æ°£                â”‚ â”‚ ğŸ’¨ æ¸¬è©¦å™´æ°£                â”‚ â”‚
â”‚ â”‚ â¸ï¸ æš«åœå™´æ°£               â”‚ â”‚ â¸ï¸ æš«åœå™´æ°£               â”‚ â”‚
â”‚ â”‚                           â”‚ â”‚                           â”‚ â”‚
â”‚ â”‚ âš™ï¸ åƒæ•¸èª¿æ•´:              â”‚ â”‚ âš™ï¸ åƒæ•¸èª¿æ•´:              â”‚ â”‚
â”‚ â”‚ ğŸ¯ ç„¦è·: [â–­â–­â–­â—â–­â–­] 128    â”‚ â”‚ ğŸ¯ ç„¦è·: [â–­â–­â–­â—â–­â–­] 127    â”‚ â”‚
â”‚ â”‚ ğŸ“¸ æ›å…‰: [â–­â—â–­â–­â–­â–­] -7     â”‚ â”‚ ğŸ“¸ æ›å…‰: [â–­â–­â—â–­â–­â–­] -4     â”‚ â”‚
â”‚ â”‚ â±ï¸ å™´æ°£å»¶é²: [â–­â–­â–­â–­â—â–­]    â”‚ â”‚ â±ï¸ å™´æ°£å»¶é²: [â–­â–­â–­â–­â—â–­]    â”‚ â”‚
â”‚ â”‚    1600 ms                â”‚ â”‚    1600 ms                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ å³æ™‚åœ–è¡¨                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ç‘•ç–µç‡è¶¨å‹¢                â”‚ â”‚ ç”¢å“åˆ†å¸ƒ                 â”‚  â”‚
â”‚ â”‚ (æŠ˜ç·šåœ–)                 â”‚ â”‚ (åœ“é¤…åœ–)                 â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»‹é¢å€åŸŸèªªæ˜ï¼š**

**1ï¸âƒ£ é ‚éƒ¨å°èˆªåˆ—**
- ğŸ“Š **å„€è¡¨æ¿**ï¼šä¸»æ§å°é é¢ï¼ˆç•¶å‰é ï¼‰
- ğŸ“œ **æ­·å²è¨˜éŒ„**ï¼šæŸ¥çœ‹éå¾€æª¢æ¸¬è¨˜éŒ„
- âš™ï¸ **ç³»çµ±è¨­å®š**ï¼šé…ç½®ç³»çµ±åƒæ•¸

**2ï¸âƒ£ åŠŸèƒ½å·¥å…·åˆ—**
- ğŸ¥ **éŒ„å½±**ï¼šé–‹å§‹/åœæ­¢éŒ„è£½å½±ç‰‡
- ğŸ¤– **è¨“ç·´**ï¼šé€²å…¥æ¨¡å‹è¨“ç·´é é¢
- ğŸ·ï¸ **æ¨™è¨»**ï¼šé–‹å•Ÿè³‡æ–™æ¨™è¨»å·¥å…·
- ğŸ”„ **é‡æ–°æ•´ç†**ï¼šåˆ·æ–°é é¢
- ğŸŒ™ **æ·±è‰²æ¨¡å¼**ï¼šåˆ‡æ›æ˜/æš—ä¸»é¡Œ
- **A- / é‡è¨­ / A+**ï¼šèª¿æ•´å­—é«”å¤§å°

**3ï¸âƒ£ å…¨åŸŸæ§åˆ¶å€**
- â¸ï¸ **æš«åœæ‰€æœ‰é¡é ­**ï¼šä¸€éµæš«åœæ‰€æœ‰æ”å½±æ©Ÿçš„åµæ¸¬
- ğŸ” **é‡æ–°åµæ¸¬é¡é ­**ï¼šè‡ªå‹•æœå°‹å¯ç”¨æ”å½±æ©Ÿ
- **æ–°å¢æ”å½±æ©Ÿ**ï¼šå¾ä¸‹æ‹‰é¸å–®é¸æ“‡ä¸¦æ–°å¢æ”å½±æ©Ÿ
- ğŸ¤– **æ¨¡å‹ç‰ˆæœ¬é¸æ“‡**ï¼šåˆ‡æ›ä¸åŒçš„ YOLO æ¨¡å‹

**4ï¸âƒ£ æ”å½±æ©Ÿå¡ç‰‡ï¼ˆæ¯å€‹æ”å½±æ©Ÿç¨ç«‹ï¼‰**

*4.1 å¡ç‰‡æ¨™é¡Œåˆ—*
- **Camera N**ï¼šæ”å½±æ©Ÿåç¨±
- **åˆ‡æ›ä¾†æº**ï¼šåˆ‡æ›ä¸åŒçš„æ”å½±æ©Ÿç´¢å¼•
- â¸ï¸ **æš«åœ**ï¼šæš«åœè©²æ”å½±æ©Ÿ
- âŒ **ç§»é™¤**ï¼šç§»é™¤è©²æ”å½±æ©Ÿ

*4.2 å³æ™‚å½±åƒå€*
- é¡¯ç¤ºæ”å½±æ©Ÿå³æ™‚ç•«é¢
- ç¶ æ¡†ï¼šæ­£å¸¸ç³–æœ
- ç´…æ¡†ï¼šç‘•ç–µç³–æœ
- è—è‰²åµæ¸¬ç·šï¼šè¨ˆæ•¸è§¸ç™¼ç·š

*4.3 çµ±è¨ˆè³‡è¨Š*
- **ç¸½åµæ¸¬æ•¸**ï¼šé€šéåµæ¸¬ç·šçš„ç³–æœç¸½æ•¸
- **æ­£å¸¸å“**ï¼šåˆ¤å®šç‚ºæ­£å¸¸çš„æ•¸é‡
- **ç‘•ç–µå“**ï¼šåˆ¤å®šç‚ºç‘•ç–µçš„æ•¸é‡
- **ç‘•ç–µç‡**ï¼šç‘•ç–µå“ä½”ç¸½æ•¸çš„ç™¾åˆ†æ¯”

*4.4 æ§åˆ¶é¸é …*
- ğŸš« **é—œé–‰æ¨™è¨˜æ¡†**ï¼šéš±è—åµæ¸¬æ¡†ï¼ˆåƒ…é¡¯ç¤ºåŸå§‹ç•«é¢ï¼‰
- ğŸ’¨ **æ¸¬è©¦å™´æ°£**ï¼šæ‰‹å‹•è§¸ç™¼ç¹¼é›»å™¨æ¸¬è©¦
- â¸ï¸ **æš«åœå™´æ°£**ï¼šæš«åœè‡ªå‹•å‰”é™¤åŠŸèƒ½

*4.5 åƒæ•¸èª¿æ•´*
- ğŸ¯ **ç„¦è·** (0-255)ï¼šèª¿æ•´æ”å½±æ©Ÿç„¦è·ï¼Œå½±éŸ¿æ¸…æ™°åº¦
- ğŸ“¸ **æ›å…‰** (-13 åˆ° 0)ï¼šèª¿æ•´æ›å…‰å€¼ï¼Œå½±éŸ¿äº®åº¦
- â±ï¸ **å™´æ°£å»¶é²** (0-3000ms)ï¼šç‘•ç–µå“è§¸ç™¼å™´æ°£çš„å»¶é²æ™‚é–“

**5ï¸âƒ£ å³æ™‚åœ–è¡¨å€**
- ğŸ“ˆ **ç‘•ç–µç‡è¶¨å‹¢**ï¼šæŠ˜ç·šåœ–é¡¯ç¤ºç‘•ç–µç‡è®ŠåŒ–
- ğŸ¥§ **ç”¢å“åˆ†å¸ƒ**ï¼šåœ“é¤…åœ–é¡¯ç¤ºæ­£å¸¸/ç‘•ç–µæ¯”ä¾‹

#### æ“ä½œæ­¥é©Ÿ

**æ­¥é©Ÿ 1: é¸æ“‡æ”å½±æ©Ÿ**
1. é»æ“Š **ğŸ” åµæ¸¬æ”å½±æ©Ÿ** æŒ‰éˆ•
2. ç³»çµ±æœƒè‡ªå‹•æœå°‹å¯ç”¨çš„æ”å½±æ©Ÿ
3. å¾ä¸‹æ‹‰é¸å–®é¸æ“‡è¦ä½¿ç”¨çš„æ”å½±æ©Ÿ

**æ­¥é©Ÿ 2: é¸æ“‡ AI æ¨¡å‹**
1. å¾æ¨¡å‹ä¸‹æ‹‰é¸å–®é¸æ“‡æ¨¡å‹
   - `yolov8n`: é€Ÿåº¦å¿«ï¼Œæº–ç¢ºåº¦ä¸­ç­‰
   - `yolov8s`: é€Ÿåº¦ä¸­ç­‰ï¼Œæº–ç¢ºåº¦è¼ƒé«˜
   - `yolov8m`: é€Ÿåº¦è¼ƒæ…¢ï¼Œæº–ç¢ºåº¦æœ€é«˜
   - `yolo11n/s/m`: YOLO11 ç³»åˆ—

**æ­¥é©Ÿ 3: èª¿æ•´æ”å½±æ©Ÿåƒæ•¸**
1. **ç„¦è·èª¿æ•´**ï¼šæ‹–æ›³æ»‘æ¡¿èª¿æ•´æ¸…æ™°åº¦
   - ç¯„åœï¼š0-255
   - å»ºè­°å€¼ï¼š70-90
   - èª¿æ•´å¾Œæœƒè‡ªå‹•å„²å­˜

2. **æ›å…‰èª¿æ•´**ï¼šæ‹–æ›³æ»‘æ¡¿èª¿æ•´äº®åº¦
   - ç¯„åœï¼š-13 åˆ° 0
   - å»ºè­°å€¼ï¼š-7 åˆ° -5
   - èª¿æ•´å¾Œæœƒè‡ªå‹•å„²å­˜

**æ­¥é©Ÿ 4: é–‹å§‹åµæ¸¬**
1. é»æ“Š **â–¶ï¸ é–‹å§‹åµæ¸¬** æŒ‰éˆ•
2. ç•«é¢é–‹å§‹é¡¯ç¤ºå³æ™‚åµæ¸¬çµæœ
3. è§€å¯Ÿçµ±è¨ˆæ•¸æ“šæ˜¯å¦æ­£å¸¸æ›´æ–°

**æ­¥é©Ÿ 5: ç›£æ§é‹è¡Œ**
- è§€å¯Ÿåµæ¸¬æ¡†æ˜¯å¦æº–ç¢ºæ¡†ä½ç³–æœ
- æª¢æŸ¥åˆ†é¡çµæœï¼ˆç¶ æ¡†=æ­£å¸¸ï¼Œç´…æ¡†=ç•°å¸¸ï¼‰
- æ³¨æ„è¨ˆæ•¸æ˜¯å¦æ­£ç¢ºç´¯åŠ 
- ç¢ºèªç•°å¸¸å“æ˜¯å¦è§¸ç™¼å™´æ°£

**æ­¥é©Ÿ 6: åœæ­¢åµæ¸¬**
1. é»æ“Š **â¹ï¸ åœæ­¢åµæ¸¬** æŒ‰éˆ•
2. ç³»çµ±æœƒå„²å­˜æœ€å¾Œçš„çµ±è¨ˆæ•¸æ“š
3. å¯ä»¥é‡æ–°é–‹å§‹æˆ–åˆ‡æ›æ”å½±æ©Ÿ

### ğŸ“¹ éŒ„å½±åŠŸèƒ½

#### é–‹å§‹éŒ„å½±
```
1. é»æ“Š "ğŸ¥ é–‹å§‹éŒ„å½±" æŒ‰éˆ•
2. é¸æ“‡éŒ„å½±å“è³ª:
   - é«˜å“è³ª (1920Ã—1080, 30fps)
   - æ¨™æº–å“è³ª (1280Ã—720, 30fps)
   - ä½å“è³ª (640Ã—480, 30fps)
3. éŒ„å½±æª”æ¡ˆè‡ªå‹•å„²å­˜åˆ° recordings/ è³‡æ–™å¤¾
```

#### åœæ­¢éŒ„å½±
```
1. é»æ“Š "â¹ï¸ åœæ­¢éŒ„å½±" æŒ‰éˆ•
2. ç³»çµ±è‡ªå‹•ä¿å­˜å½±ç‰‡
3. æª”åæ ¼å¼: camera_YYYYMMDD_HHMMSS.mp4
```

### ğŸ“· æˆªåœ–åŠŸèƒ½

```
1. é»æ“Š "ğŸ“· æˆªåœ–" æŒ‰éˆ•
2. æˆªåœ–è‡ªå‹•å„²å­˜åˆ° recordings/screenshots/ è³‡æ–™å¤¾
3. æª”åæ ¼å¼: screenshot_YYYYMMDD_HHMMSS.jpg
```

---

## é€²éšåŠŸèƒ½

### ğŸ“ æ¨¡å‹è¨“ç·´

#### è¨“ç·´æ–°æ¨¡å‹

1. **æº–å‚™è¨“ç·´è³‡æ–™**
   ```
   datasets/
   â”œâ”€â”€ images/
   â”‚   â”œâ”€â”€ train/
   â”‚   â””â”€â”€ val/
   â””â”€â”€ labels/
       â”œâ”€â”€ train/
       â””â”€â”€ val/
   ```

2. **é–‹å•Ÿè¨“ç·´é é¢**
   - åœ¨ Web ä»‹é¢é»æ“Š "ğŸ“ æ¨¡å‹è¨“ç·´"
   - æˆ–ç€è¦½ http://localhost:5000/trainer

3. **è¨­å®šè¨“ç·´åƒæ•¸**
   ```
   æ¨¡å‹ç‰ˆæœ¬: YOLOv8n (å¿«é€Ÿè¨“ç·´)
   è¨“ç·´è¼ªæ•¸: 100 epochs
   æ‰¹æ¬¡å¤§å°: 16
   å½±åƒå¤§å°: 640
   è³‡æ–™é›†è·¯å¾‘: datasets/candy_dataset.yaml
   ```

4. **é–‹å§‹è¨“ç·´**
   - é»æ“Š "é–‹å§‹è¨“ç·´" æŒ‰éˆ•
   - è¨“ç·´æ™‚é–“è¦–è³‡æ–™é‡è€Œå®šï¼ˆé€šå¸¸ 2-8 å°æ™‚ï¼‰
   - è¨“ç·´å®Œæˆå¾Œæ¨¡å‹å„²å­˜åœ¨ `runs/detect/train/weights/best.pt`

### ğŸ“Š æ­·å²è¨˜éŒ„æŸ¥è©¢

#### æŸ¥çœ‹æª¢æ¸¬è¨˜éŒ„
```
1. é»æ“Š "ğŸ“Š æª¢æ¸¬è¨˜éŒ„" æŒ‰éˆ•
2. é¸æ“‡æŸ¥è©¢æ¢ä»¶:
   - æ—¥æœŸç¯„åœ
   - æ”å½±æ©Ÿåç¨±
   - ç•°å¸¸æ¯”ä¾‹
3. é»æ“Š "æŸ¥è©¢" é¡¯ç¤ºçµæœ
4. å¯åŒ¯å‡ºç‚º CSV æª”æ¡ˆ
```

#### è³‡æ–™åº«ä½ç½®
```
æª”æ¡ˆ: detection_data.db
ä½ç½®: å°ˆæ¡ˆæ ¹ç›®éŒ„
æ ¼å¼: SQLite è³‡æ–™åº«
```

### âš™ï¸ ç³»çµ±è¨­å®š

#### èª¿æ•´æª¢æ¸¬åƒæ•¸

ç·¨è¼¯ `config.ini` ä¸­çš„ `[Detection]` å€æ®µï¼š

```ini
[Detection]
# ä¿¡å¿ƒåº¦é–¾å€¼ (0.0-1.0)
# æ•¸å€¼è¶Šé«˜ï¼Œèª¤åˆ¤è¶Šå°‘ï¼Œä½†å¯èƒ½æ¼æª¢
confidence_threshold = 0.6

# NMS é–¾å€¼ (0.0-1.0)
# ç”¨æ–¼éæ¿¾é‡ç–Šçš„åµæ¸¬æ¡†
nms_threshold = 0.45

# æ˜¯å¦ä½¿ç”¨å¤šå°ºåº¦æª¢æ¸¬ (0 æˆ– 1)
# å•Ÿç”¨å¯æé«˜å°ç‰©é«”æª¢æ¸¬ç‡ï¼Œä½†é€Ÿåº¦è¼ƒæ…¢
use_multi_scale = 1

# å¤šå°ºåº¦å› å­ (é€—è™Ÿåˆ†éš”)
multi_scale_factors = 0.75,1.0,1.25
```

#### èª¿æ•´åµæ¸¬ç·šä½ç½®

```ini
[Camera1]
# åµæ¸¬ç·šçš„ X åº§æ¨™ç¯„åœ
# åªæœ‰ç©¿è¶Šæ­¤ç·šçš„ç‰©é«”æ‰æœƒè¢«è¨ˆæ•¸
detection_line_x1 = 500
detection_line_x2 = 1100
```

---

## æª¢æ¸¬æµç¨‹

### å®Œæ•´æª¢æ¸¬æµç¨‹åœ–

```mermaid
flowchart TD
    Start([å•Ÿå‹•ç³»çµ±]) --> Init[åˆå§‹åŒ–æ”å½±æ©Ÿå’Œæ¨¡å‹]
    Init --> CaptureFrame[æ“·å–å½±åƒå¹€]
    
    CaptureFrame --> Detection{åŸ·è¡Œ AI åµæ¸¬}
    Detection --> FilterBox[éæ¿¾ä¸åˆç†çš„åµæ¸¬æ¡†]
    
    FilterBox --> HasDetection{æœ‰åµæ¸¬çµæœï¼Ÿ}
    HasDetection -->|æ˜¯| UpdateTracking[æ›´æ–°ç‰©é«”è¿½è¹¤]
    HasDetection -->|å¦| DrawFrame
    
    UpdateTracking --> CheckCross{ç‰©é«”ç©¿è¶Šåµæ¸¬ç·šï¼Ÿ}
    
    CheckCross -->|æ˜¯| CountObject[è¨ˆæ•¸ +1]
    CountObject --> CheckAbnormal{æ˜¯å¦ç‚ºç‘•ç–µå“ï¼Ÿ}
    
    CheckAbnormal -->|æ˜¯| TriggerRelay[è§¸ç™¼ç¹¼é›»å™¨]
    CheckAbnormal -->|å¦| CountNormal[æ­£å¸¸è¨ˆæ•¸ +1]
    
    TriggerRelay --> CountAbnormal2[ç•°å¸¸è¨ˆæ•¸ +1]
    CountAbnormal2 --> SaveDB[å„²å­˜åˆ°è³‡æ–™åº«]
    CountNormal --> SaveDB
    
    CheckCross -->|å¦| DrawFrame[ç¹ªè£½åµæ¸¬æ¡†å’Œçµ±è¨ˆ]
    SaveDB --> DrawFrame
    
    DrawFrame --> Display[é¡¯ç¤ºåˆ° Web ä»‹é¢]
    Display --> Recording{æ˜¯å¦æ­£åœ¨éŒ„å½±ï¼Ÿ}
    
    Recording -->|æ˜¯| SaveVideo[å¯«å…¥å½±ç‰‡æª”]
    Recording -->|å¦| CheckStop
    SaveVideo --> CheckStop{åœæ­¢è¨Šè™Ÿï¼Ÿ}
    
    CheckStop -->|å¦| CaptureFrame
    CheckStop -->|æ˜¯| Cleanup[æ¸…ç†è³‡æº]
    Cleanup --> End([çµæŸ])
```

### ç‰©é«”è¿½è¹¤é‚è¼¯

```mermaid
stateDiagram-v2
    [*] --> æ–°åµæ¸¬: å‡ºç¾åœ¨ç•«é¢
    æ–°åµæ¸¬ --> è¿½è¹¤ä¸­: å»ºç«‹è¿½è¹¤ ID
    
    è¿½è¹¤ä¸­ --> è¿½è¹¤ä¸­: æŒçºŒåµæ¸¬åˆ°
    è¿½è¹¤ä¸­ --> éºå¤±: é€£çºŒ N å¹€æœªåµæ¸¬åˆ°
    
    è¿½è¹¤ä¸­ --> å·²è¨ˆæ•¸: ç©¿è¶Šåµæ¸¬ç·š
    å·²è¨ˆæ•¸ --> è¿½è¹¤ä¸­: ç¹¼çºŒè¿½è¹¤
    
    éºå¤± --> è¿½è¹¤ä¸­: é‡æ–°åµæ¸¬åˆ°
    éºå¤± --> ç§»é™¤: è¶…éæœ€å¤§éºå¤±å¹€æ•¸
    
    è¿½è¹¤ä¸­ --> ç§»é™¤: é›¢é–‹ç•«é¢
    ç§»é™¤ --> [*]
```

### åµæ¸¬æ¡†éæ¿¾æµç¨‹

```mermaid
flowchart LR
    A[åŸå§‹åµæ¸¬çµæœ] --> B{å¤§å°æª¢æŸ¥}
    B -->|20-400åƒç´ | C{é•·å¯¬æ¯”æª¢æŸ¥}
    B -->|å¦| X[âŒ éæ¿¾æ‰]
    
    C -->|0.4-2.5| D{å¯è¦‹åº¦æª¢æŸ¥}
    C -->|å¦| X
    
    D -->|â‰¥30%å¯è¦‹| E[âœ… ä¿ç•™]
    D -->|å¦| X
    
    E --> F[è½‰æ›åº§æ¨™]
    F --> G[åŠ å…¥åµæ¸¬åˆ—è¡¨]
```

---

## å¸¸è¦‹å•é¡Œ

### â“ FAQ

#### Q1: ç³»çµ±ç„¡æ³•å•Ÿå‹•ï¼Œé¡¯ç¤º "æ‰¾ä¸åˆ°æ¨¡å‹æª”æ¡ˆ"
**A:** 
```
è§£æ±ºæ–¹æ³•:
1. ç¢ºèªæ ¹ç›®éŒ„æœ‰ yolov8n.pt æˆ–å…¶ä»–æ¨¡å‹æª”æ¡ˆ
2. æª¢æŸ¥ config.ini ä¸­çš„ weights è·¯å¾‘æ˜¯å¦æ­£ç¢º
3. å¦‚æœæ²’æœ‰æ¨¡å‹ï¼Œå¯ä»¥å¾ä»¥ä¸‹ä½ç½®ä¸‹è¼‰:
   - https://github.com/ultralytics/assets/releases
```

#### Q2: åµæ¸¬æ¡†ä½ç½®ä¸æº–ç¢º
**A:**
```
å¯èƒ½åŸå› :
1. ç„¦è·æœªèª¿æ•´å¥½ â†’ èª¿æ•´ç„¦è·æ»‘æ¡¿
2. æ›å…‰éäº®æˆ–éæš— â†’ èª¿æ•´æ›å…‰å€¼
3. æ¨¡å‹è¨“ç·´è³‡æ–™ä¸è¶³ â†’ é‡æ–°è¨“ç·´æ¨¡å‹
4. ä¿¡å¿ƒåº¦é–¾å€¼éä½ â†’ åœ¨ config.ini æé«˜ confidence_threshold
```

#### Q3: æœ‰äº›ç³–æœæ²’æœ‰è¢«è¨ˆæ•¸
**A:**
```
å¯èƒ½åŸå› :
1. ç³–æœæ²’æœ‰ç©¿è¶Šåµæ¸¬ç·š
   â†’ èª¿æ•´ detection_line_x1 å’Œ detection_line_x2 ç¯„åœ

2. åµæ¸¬æ¡†è¢«éæ¿¾æ‰
   â†’ æª¢æŸ¥ç³–æœæ˜¯å¦ç¬¦åˆéæ¿¾æ¢ä»¶ (å¤§å°ã€é•·å¯¬æ¯”)

3. è¿½è¹¤ä¸Ÿå¤±
   â†’ å¢åŠ  MAX_MISSED_FRAMES åƒæ•¸å€¼
```

#### Q4: ç¹¼é›»å™¨æ²’æœ‰è§¸ç™¼
**A:**
```
æª¢æŸ¥é …ç›®:
1. relay_url è¨­å®šæ˜¯å¦æ­£ç¢º
2. ç¹¼é›»å™¨æ§åˆ¶å™¨æ˜¯å¦æ­£å¸¸é‹ä½œ
3. æ˜¯å¦é»æ“Šäº† "â¸ï¸ æš«åœå™´æ°£" æŒ‰éˆ•
4. æª¢æŸ¥ relay_delay_ms å»¶é²è¨­å®š
```

#### Q5: éŒ„å½±æª”æ¡ˆå¤ªå¤§
**A:**
```
å„ªåŒ–æ–¹æ³•:
1. é™ä½éŒ„å½±è§£æåº¦ (1080p â†’ 720p)
2. èª¿æ•´å½±ç‰‡ç·¨ç¢¼å™¨å“è³ªåƒæ•¸
3. å®šæœŸæ¸…ç† recordings/ è³‡æ–™å¤¾
4. åªåœ¨éœ€è¦æ™‚æ‰éŒ„å½±
```

#### Q6: ç³»çµ±é‹è¡Œç·©æ…¢
**A:**
```
å„ªåŒ–å»ºè­°:
1. ä½¿ç”¨è¼ƒå°çš„æ¨¡å‹ (yolov8n ä»£æ›¿ yolov8m)
2. é™ä½æ”å½±æ©Ÿè§£æåº¦ (1080p â†’ 720p)
3. é—œé–‰å¤šå°ºåº¦æª¢æ¸¬ (use_multi_scale = 0)
4. å¦‚æœ‰ GPUï¼Œç¢ºä¿ CUDA å·²æ­£ç¢ºå®‰è£
5. é—œé–‰ä¸å¿…è¦çš„å¾Œå°ç¨‹å¼
```

---

## ç¶­è­·æŒ‡å—

### ğŸ”§ æ—¥å¸¸ç¶­è­·

#### æ¯æ—¥æª¢æŸ¥
- [ ] æª¢æŸ¥æ”å½±æ©Ÿé¡é ­æ˜¯å¦æ¸…æ½”
- [ ] ç¢ºèªç„¦è·å’Œæ›å…‰è¨­å®šæ­£å¸¸
- [ ] æŸ¥çœ‹çµ±è¨ˆæ•¸æ“šæ˜¯å¦åˆç†
- [ ] æª¢æŸ¥ç£ç¢Ÿç©ºé–“æ˜¯å¦å……è¶³

#### æ¯é€±ç¶­è­·
- [ ] æ¸…ç† recordings/ è³‡æ–™å¤¾çš„èˆŠå½±ç‰‡
- [ ] æ¸…ç† logs/ è³‡æ–™å¤¾çš„èˆŠæ—¥èªŒ
- [ ] å‚™ä»½ detection_data.db è³‡æ–™åº«
- [ ] æª¢æŸ¥ç³»çµ±æ—¥èªŒæ˜¯å¦æœ‰ç•°å¸¸

#### æ¯æœˆç¶­è­·
- [ ] æ›´æ–° Python å¥—ä»¶: `pip install -r requirements.txt --upgrade`
- [ ] æª¢æŸ¥æ¨¡å‹æº–ç¢ºåº¦æ˜¯å¦ä¸‹é™
- [ ] æ¸…ç† __pycache__ è³‡æ–™å¤¾
- [ ] å‚™ä»½æ•´å€‹å°ˆæ¡ˆè³‡æ–™å¤¾

### ğŸ’¾ è³‡æ–™å‚™ä»½

#### é‡è¦æª”æ¡ˆæ¸…å–®
```
å¿…é ˆå‚™ä»½:
â”œâ”€â”€ config.ini              # é…ç½®æª”
â”œâ”€â”€ detection_data.db       # æª¢æ¸¬è¨˜éŒ„è³‡æ–™åº«
â”œâ”€â”€ focus_settings.json     # ç„¦è·è¨­å®š
â”œâ”€â”€ models/                 # è‡ªè¨“ç·´çš„æ¨¡å‹
â””â”€â”€ datasets/               # è¨“ç·´è³‡æ–™é›†

å»ºè­°å‚™ä»½:
â”œâ”€â”€ recordings/             # éŒ„å½±æª”æ¡ˆ
â”œâ”€â”€ logs/                   # ç³»çµ±æ—¥èªŒ
â””â”€â”€ runs/                   # è¨“ç·´çµæœ
```

#### å‚™ä»½æŒ‡ä»¤
```powershell
# å»ºç«‹å‚™ä»½è³‡æ–™å¤¾
$date = Get-Date -Format "yyyyMMdd"
$backupDir = "backup_$date"
New-Item -ItemType Directory -Path $backupDir

# è¤‡è£½é‡è¦æª”æ¡ˆ
Copy-Item config.ini $backupDir/
Copy-Item detection_data.db $backupDir/
Copy-Item focus_settings.json $backupDir/
Copy-Item -Recurse models/ $backupDir/models/

# å£“ç¸®å‚™ä»½
Compress-Archive -Path $backupDir -DestinationPath "$backupDir.zip"
```

### ğŸ“Š æ•ˆèƒ½ç›£æ§

#### ç³»çµ±æ•ˆèƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | æ­£å¸¸ç¯„åœ | ç•°å¸¸æƒ…æ³ |
|------|---------|---------|
| FPS | 25-30 | < 20 |
| CPU ä½¿ç”¨ç‡ | 40-70% | > 90% |
| è¨˜æ†¶é«”ä½¿ç”¨ | 2-4 GB | > 6 GB |
| åµæ¸¬å»¶é² | < 50ms | > 100ms |

#### æª¢æŸ¥ç³»çµ±æ•ˆèƒ½
```powershell
# æª¢æŸ¥ Python é€²ç¨‹
Get-Process python | Select-Object CPU, WorkingSet, ProcessName

# æŸ¥çœ‹ç£ç¢Ÿç©ºé–“
Get-PSDrive C | Select-Object Used, Free

# æª¢æŸ¥ç¶²è·¯é€£ç·š
Test-NetConnection localhost -Port 5000
```

---

## æ•…éšœæ’é™¤

### ğŸš¨ å¸¸è¦‹éŒ¯èª¤è™•ç†

#### éŒ¯èª¤ 1: "æ”å½±æ©Ÿç„¡æ³•é–‹å•Ÿ"
```
éŒ¯èª¤è¨Šæ¯: "ç„¡æ³•å‘ Camera 1 å–å¾—ç•«é¢"

è§£æ±ºæ­¥é©Ÿ:
1. æª¢æŸ¥ USB é€£ç·šæ˜¯å¦ç©©å›º
2. ç¢ºèª config.ini ä¸­çš„ camera_index æ­£ç¢º
3. é—œé–‰å…¶ä»–å¯èƒ½ä½”ç”¨æ”å½±æ©Ÿçš„ç¨‹å¼
4. é‡æ–°æ’æ‹” USB æ”å½±æ©Ÿ
5. åœ¨è£ç½®ç®¡ç†å“¡æª¢æŸ¥æ”å½±æ©Ÿé©…å‹•
```

#### éŒ¯èª¤ 2: "æ¨¡å‹è¼‰å…¥å¤±æ•—"
```
éŒ¯èª¤è¨Šæ¯: "Error loading model"

è§£æ±ºæ­¥é©Ÿ:
1. ç¢ºèªæ¨¡å‹æª”æ¡ˆå­˜åœ¨ä¸”æœªæå£
2. æª¢æŸ¥ ultralytics å¥—ä»¶ç‰ˆæœ¬æ˜¯å¦ç›¸å®¹
3. å˜—è©¦é‡æ–°ä¸‹è¼‰æ¨¡å‹æª”æ¡ˆ
4. æŸ¥çœ‹ logs/ è³‡æ–™å¤¾çš„è©³ç´°éŒ¯èª¤è¨Šæ¯
```

#### éŒ¯èª¤ 3: "è³‡æ–™åº«éŒ¯èª¤"
```
éŒ¯èª¤è¨Šæ¯: "database is locked"

è§£æ±ºæ­¥é©Ÿ:
1. é—œé–‰æ‰€æœ‰è¨ªå•è³‡æ–™åº«çš„ç¨‹å¼
2. åˆªé™¤ detection_data.db-wal å’Œ -shm æª”æ¡ˆ
3. é‡æ–°å•Ÿå‹•ç³»çµ±
4. å¦‚æœå•é¡ŒæŒçºŒï¼Œå‚™ä»½å¾Œåˆªé™¤ detection_data.db
```

#### éŒ¯èª¤ 4: "è¨˜æ†¶é«”ä¸è¶³"
```
éŒ¯èª¤è¨Šæ¯: "Out of memory"

è§£æ±ºæ­¥é©Ÿ:
1. ä½¿ç”¨è¼ƒå°çš„æ¨¡å‹ (yolov8n)
2. é™ä½æ”å½±æ©Ÿè§£æåº¦
3. é—œé–‰å¤šå°ºåº¦æª¢æ¸¬
4. å¢åŠ ç³»çµ±è¨˜æ†¶é«”
5. é—œé–‰å…¶ä»–ä½”ç”¨è¨˜æ†¶é«”çš„ç¨‹å¼
```

### ğŸ”„ ç³»çµ±é‡ç½®

#### é‡ç½®è¨­å®š
```powershell
# å‚™ä»½ç•¶å‰è¨­å®š
Copy-Item config.ini config.ini.backup

# é‡ç½®ç‚ºé è¨­å€¼
# æ‰‹å‹•ç·¨è¼¯ config.iniï¼Œåƒè€ƒé è¨­å€¼
```

#### é‡ç½®è³‡æ–™åº«
```powershell
# å‚™ä»½è³‡æ–™åº«
Copy-Item detection_data.db detection_data.db.backup

# åˆªé™¤ä¸¦é‡å»º
Remove-Item detection_data.db
# é‡æ–°å•Ÿå‹•ç³»çµ±æœƒè‡ªå‹•å»ºç«‹æ–°è³‡æ–™åº«
```

#### å®Œå…¨é‡ç½®
```powershell
# âš ï¸ è­¦å‘Š: æ­¤æ“ä½œæœƒåˆªé™¤æ‰€æœ‰è¨˜éŒ„å’Œè¨­å®š

# 1. å‚™ä»½é‡è¦æª”æ¡ˆ
$backup = "full_backup_$(Get-Date -Format 'yyyyMMdd_HHmmss')"
New-Item -ItemType Directory -Path $backup
Copy-Item config.ini, detection_data.db, focus_settings.json $backup/

# 2. åˆªé™¤å¿«å–å’Œè¨˜éŒ„
Remove-Item -Recurse -Force __pycache__, logs/*, recordings/*

# 3. é‡ç½®è¨­å®šæª”
# æ‰‹å‹•é‚„åŸ config.ini ç‚ºé è¨­å€¼

# 4. é‡æ–°å•Ÿå‹•
.\start_all.bat
```

---

## ğŸ“ æŠ€è¡“æ”¯æ´

### è¯çµ¡è³‡è¨Š
- **GitHub å°ˆæ¡ˆ**: https://github.com/Lei-TzuY/candy_detect
- **å•é¡Œå›å ±**: åœ¨ GitHub Issues æå‡ºå•é¡Œ
- **æ–‡ä»¶æ›´æ–°**: åƒè€ƒ CHANGELOG.md

### æ—¥èªŒæ”¶é›†
ç•¶éœ€è¦æŠ€è¡“æ”¯æ´æ™‚ï¼Œè«‹æä¾›ä»¥ä¸‹è³‡è¨Šï¼š

```powershell
# 1. æ”¶é›†ç³»çµ±è³‡è¨Š
Get-ComputerInfo | Select-Object WindowsVersion, OsArchitecture

# 2. Python ç‰ˆæœ¬
python --version

# 3. å¥—ä»¶ç‰ˆæœ¬
pip list

# 4. æœ€æ–°æ—¥èªŒ
Get-Content logs/candy_detector_*.log -Tail 100

# 5. é…ç½®æª”æ¡ˆ
Get-Content config.ini
```

---

## ğŸ“ é™„éŒ„

### A. éµç›¤å¿«æ·éµ

| å¿«æ·éµ | åŠŸèƒ½ |
|--------|------|
| `Ctrl + S` | å„²å­˜è¨­å®š |
| `Ctrl + R` | é‡æ–°æ•´ç†é é¢ |
| `Ctrl + P` | æˆªåœ– |
| `F5` | é‡æ–°è¼‰å…¥ |
| `Esc` | åœæ­¢åµæ¸¬ |

### B. é…ç½®æª”æ¡ˆç¯„ä¾‹

å®Œæ•´çš„ `config.ini` ç¯„ä¾‹ï¼š

```ini
[Paths]
weights = yolov8m.pt
cfg = 
classes = models/classes.txt
model_type = yolov8

[Detection]
confidence_threshold = 0.6
nms_threshold = 0.45
input_size = 416
use_multi_scale = 1
multi_scale_factors = 0.75,1.0,1.25
use_kalman_filter = 1
use_adaptive_tracking = 1

[Camera1]
camera_index = 0
camera_name = Camera 1
frame_width = 1920
frame_height = 1080
relay_url = http://localhost:8080/api/relay/Relay2?value=1
detection_line_x1 = 500
detection_line_x2 = 1100
exposure_value = -7
default_focus = 80
relay_delay_ms = 0
use_roi = 0
roi_x1 = 0
roi_x2 = 1920
roi_y1 = 0
roi_y2 = 1080

[Display]
target_height = 480
max_width = 0
```

### C. æ•ˆèƒ½èª¿æ ¡å»ºè­°

| å ´æ™¯ | å»ºè­°é…ç½® |
|------|---------|
| **é«˜é€Ÿç”Ÿç”¢ç·š** | yolov8n, 720p, multi_scale=0 |
| **é«˜æº–ç¢ºåº¦** | yolov8m, 1080p, multi_scale=1 |
| **ä½éšç¡¬é«”** | yolov8n, 640p, confidence=0.7 |
| **å¤œé–“ä½å…‰** | exposure=-3, focus=85 |

### D. è¡“èªè¡¨

| è¡“èª | èªªæ˜ |
|------|------|
| FPS | Frames Per Secondï¼Œæ¯ç§’å¹€æ•¸ |
| NMS | Non-Maximum Suppressionï¼Œéæ¥µå¤§å€¼æŠ‘åˆ¶ |
| IoU | Intersection over Unionï¼Œäº¤ä¸¦æ¯” |
| ROI | Region of Interestï¼Œæ„Ÿèˆˆè¶£å€åŸŸ |
| Confidence | ä¿¡å¿ƒåº¦ï¼Œæ¨¡å‹å°é æ¸¬çµæœçš„ä¿¡å¿ƒåˆ†æ•¸ |
| Threshold | é–¾å€¼ï¼Œç”¨æ–¼éæ¿¾çš„é–€æª»å€¼ |

---

## ğŸ“„ ç‰ˆæœ¬è¨˜éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å…§å®¹ |
|------|------|---------|
| v1.0.0 | 2026-01-28 | åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ |

---

**Â© 2026 ç³–æœç‘•ç–µåµæ¸¬ç³»çµ± | ä½¿ç”¨æ‰‹å†ŠçµæŸ**
