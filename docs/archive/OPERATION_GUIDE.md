# 📋 糖果瑕疵偵測系統 - 快速操作指南

**版本：** v1.0.0  
**適用對象：** 一線操作人員

---

## 🚀 每日啟動流程

### 步驟 1: 開機前檢查
```
□ 確認電腦已開機
□ 確認攝影機 USB 線已連接
□ 確認繼電器控制器已開啟
□ 確認照明設備運作正常
```

### 步驟 2: 啟動系統
```
1. 找到桌面上的 "start_all.bat" 圖示
2. 雙擊執行
3. 等待約 10-15 秒
4. 瀏覽器自動開啟 (http://localhost:5000)
```

### 步驟 3: 設定攝影機
```
1. 點擊 "🔍 偵測攝影機" 按鈕
2. 從下拉選單選擇攝影機:
   ✓ Camera 1 (通常是第一個)
   ✓ Camera 2 (如有第二個)
3. 確認畫面顯示正常
```

### 步驟 4: 調整焦距和曝光
```
1. 調整焦距滑桿直到畫面清晰
   → 建議值: 70-90
   
2. 調整曝光滑桿直到亮度適中
   → 建議值: -7 到 -5
   
3. 系統會自動儲存設定
```

### 步驟 5: 開始偵測
```
1. 點擊 "▶️ 開始偵測" 按鈕
2. 觀察畫面:
   ✓ 綠色框 = 正常糖果
   ✓ 紅色框 = 瑕疵糖果
3. 確認統計數字開始跳動
```

---

## 📊 監控重點

### 正常運行指標
```
✅ 偵測框準確框住糖果
✅ 計數持續增加
✅ 正常率 > 90%
✅ 瑕疵品觸發噴氣聲音
✅ FPS 顯示 25-30
```

### 異常狀況處理

#### 🔴 畫面模糊
```
解決: 調整焦距滑桿
→ 向右移動使畫面更清晰
```

#### 🔴 畫面太暗/太亮
```
解決: 調整曝光滑桿
→ 太暗: 向右移動 (數字變大)
→ 太亮: 向左移動 (數字變小)
```

#### 🔴 沒有偵測框
```
1. 檢查糖果是否在畫面中
2. 點擊 "⏹️ 停止" 再點 "▶️ 開始"
3. 如果仍無效，重新啟動系統
```

#### 🔴 計數不增加
```
1. 確認糖果有移動
2. 確認糖果穿越藍色偵測線
3. 檢查網路連線指示燈
```

#### 🔴 噴氣沒有動作
```
1. 檢查繼電器控制器電源
2. 確認沒有點擊 "⏸️ 暫停噴氣"
3. 聯絡技術人員檢查線路
```

---

## ⏹️ 每日關閉流程

### 步驟 1: 停止偵測
```
1. 點擊 "⏹️ 停止偵測" 按鈕
2. 等待畫面停止更新
```

### 步驟 2: 記錄數據 (可選)
```
1. 拍照或記錄當日統計:
   - 總數: _______
   - 正常: _______
   - 異常: _______
   - 異常率: _______%
```

### 步驟 3: 關閉程式
```
1. 關閉瀏覽器視窗
2. 找到黑色命令視窗
3. 點擊 X 關閉視窗
```

### 步驟 4: 清潔維護
```
□ 用乾淨軟布擦拭攝影機鏡頭
□ 清理產線上的糖果碎屑
□ 關閉繼電器控制器
□ 關閉照明設備
```

---

## 🎥 錄影操作 (特殊情況使用)

### 開始錄影
```
1. 點擊 "🎥 開始錄影" 按鈕
2. 看到紅色錄影圖示
3. 正常進行偵測
```

### 停止錄影
```
1. 點擊 "⏹️ 停止錄影" 按鈕
2. 影片自動儲存到 recordings 資料夾
3. 檔名會顯示日期和時間
```

### 何時需要錄影？
```
✓ 發現異常偵測結果時
✓ 需要分析瑕疵品時
✓ 主管要求記錄時
✓ 設備調整測試時
```

---

## 📞 緊急聯絡

### 一般問題
```
1. 查看 "常見問題" 章節
2. 嘗試重新啟動系統
3. 記錄錯誤訊息
```

### 需要技術支援
```
□ 記錄發生時間
□ 拍攝錯誤畫面
□ 記錄最後操作步驟
□ 聯絡技術人員
```

### 緊急狀況處理
```
🚨 如遇以下情況，立即停機:
   - 系統持續報錯
   - 噴氣裝置異常動作
   - 電腦過熱或異常聲響
   - 攝影機冒煙或異味
```

---

## 💡 小技巧

### 提高準確度
```
✓ 保持鏡頭清潔
✓ 照明均勻穩定
✓ 糖果移動速度適中
✓ 定期校準焦距
```

### 提高效率
```
✓ 每天同一時間啟動
✓ 記錄常用設定值
✓ 定期清理錄影檔案
✓ 保持工作區整潔
```

---

## ✅ 每日檢查表

### 開機前 (5分鐘)
- [ ] 電腦開機
- [ ] USB 線連接確認
- [ ] 繼電器電源開啟
- [ ] 照明設備開啟
- [ ] 鏡頭清潔

### 運行中 (每小時)
- [ ] 檢查計數是否正常
- [ ] 檢查偵測框是否準確
- [ ] 確認噴氣動作正常
- [ ] 觀察異常率是否合理

### 關機前 (5分鐘)
- [ ] 記錄當日數據
- [ ] 停止偵測
- [ ] 關閉程式
- [ ] 清潔鏡頭
- [ ] 關閉周邊設備

---

## 📱 快速參考卡

```
┌─────────────────────────────────────┐
│ 🍬 糖果瑕疵偵測系統 - 快速參考       │
├─────────────────────────────────────┤
│ 啟動: 雙擊 start_all.bat            │
│ 網址: http://localhost:5000         │
├─────────────────────────────────────┤
│ 焦距: 70-90 (清晰為準)              │
│ 曝光: -7 到 -5 (亮度適中)           │
├─────────────────────────────────────┤
│ 綠框 = 正常糖果 ✅                  │
│ 紅框 = 瑕疵糖果 ❌                  │
├─────────────────────────────────────┤
│ 正常異常率: < 10%                    │
│ 正常FPS: 25-30                       │
└─────────────────────────────────────┘
```

---

**🔄 本指南請印出並放置於操作台旁邊，方便隨時查閱**

**© 2026 糖果瑕疵偵測系統**
