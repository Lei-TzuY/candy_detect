# æ¨¡å‹æº–ç¢ºåº¦å’Œæ•ˆç‡å„ªåŒ– - å¿«é€Ÿæ¸¬è©¦æŒ‡å—

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç¬¬ä¸€æ­¥ï¼šé‹è¡ŒåŸºæº–æ¸¬è©¦ï¼ˆå„ªåŒ–å‰ï¼‰

```bash
cd c:\Users\st313\Desktop\candy

# ç¦ç”¨æ‰€æœ‰å„ªåŒ–ï¼Œè¨˜éŒ„åŸºæº–æ€§èƒ½
python run_detector.py Camera1 Camera2
```

**è¨˜éŒ„ä»¥ä¸‹æŒ‡æ¨™**:
- [ ] åŸºæº– FPS: ______
- [ ] å¹³å‡å¹€æ™‚é–“: ______ms
- [ ] æª¢æ¸¬æº–ç¢ºåº¦: ______%
- [ ] æ¼æª¢ç‡: ______%

---

## ğŸ“‹ å„ªåŒ–æ¸¬è©¦æµç¨‹

### é…ç½® A: å•Ÿç”¨ ROI å„ªåŒ–ï¼ˆæœ€å¿«ï¼‰

ç·¨è¼¯ `config.ini`:

```ini
[Detection]
use_multi_scale = 0
use_kalman_filter = 0
use_adaptive_tracking = 0

[Camera1]
use_roi = 1
roi_x1 = 300
roi_x2 = 1620
roi_y1 = 200
roi_y2 = 900
```

**é‹è¡Œæ¸¬è©¦**:
```bash
python run_detector.py Camera1 Camera2
```

**è¨˜éŒ„**:
- FPS: ______
- æå‡ç™¾åˆ†æ¯”: ______%
- æ¼æª¢ç‡è®ŠåŒ–: ______%

---

### é…ç½® B: å•Ÿç”¨å¡çˆ¾æ›¼æ¿¾æ³¢ï¼ˆæœ€ç©©å®šï¼‰

ç·¨è¼¯ `config.ini`:

```ini
[Detection]
use_multi_scale = 0
use_kalman_filter = 1
use_adaptive_tracking = 0

[Camera1]
use_roi = 0
kalman_process_noise = 0.1
kalman_measure_noise = 0.5
```

**é‹è¡Œæ¸¬è©¦**:
```bash
python run_detector.py Camera1 Camera2
```

**è§€å¯Ÿ**:
- [ ] è»Œè·¡æ˜¯å¦æ›´å¹³æ»‘?
- [ ] æ˜¯å¦æ¸›å°‘æŠ–å‹•?
- [ ] FPS è®ŠåŒ–: ______%
- [ ] è»Œè·¡é€£çºŒæ€§è©•åˆ† (1-5): ______

---

### é…ç½® C: å•Ÿç”¨å¤šå°ºåº¦æª¢æ¸¬ï¼ˆæœ€ç²¾æº–ï¼‰

ç·¨è¼¯ `config.ini`:

```ini
[Detection]
use_multi_scale = 1
multi_scale_factors = 0.75,1.0,1.25
use_kalman_filter = 0
use_adaptive_tracking = 0

[Camera1]
use_roi = 0
```

**é‹è¡Œæ¸¬è©¦**:
```bash
python run_detector.py Camera1 Camera2
```

**è¨˜éŒ„**:
- FPS: ______
- æª¢æ¸¬ç‡æå‡: ______%
- æ¨ç†æ™‚é–“å¢åŠ : ______å€
- æ˜¯å¦å€¼å¾—? [ ] æ˜¯ [ ] å¦

---

### é…ç½® D: çµ„åˆå„ªåŒ–ï¼ˆæ¨è–¦ï¼‰

ç·¨è¼¯ `config.ini`:

```ini
[Detection]
use_multi_scale = 0
use_kalman_filter = 1
use_adaptive_tracking = 1
confidence_threshold = 0.2
nms_threshold = 0.4

[Camera1]
use_roi = 1
roi_x1 = 300
roi_x2 = 1620
roi_y1 = 200
roi_y2 = 900
kalman_process_noise = 0.1
kalman_measure_noise = 0.5
```

**é‹è¡Œæ¸¬è©¦**:
```bash
python run_detector.py Camera1 Camera2
```

**è©•ä¼°**:
- FPS: ______
- ç›¸å°åŸºæº–æå‡: ______%
- æª¢æ¸¬æº–ç¢ºåº¦: ______%
- èª¤æª¢ç‡: ______%
- æ•´é«”è©•åˆ† (1-10): ______

---

## ğŸ“Š æ€§èƒ½å°æ¯”è¡¨

è¤‡è£½ä¸‹è¡¨ä¸¦å¡«å…¥æ¸¬è©¦çµæœï¼š

| é…ç½® | FPS | ç²¾åº¦ | æ¼æª¢ | èª¤æª¢ | è»Œè·¡ | æ¨è–¦åº¦ |
|-----|-----|------|------|------|------|--------|
| åŸºæº– | ____ | __% | __% | __% | â˜†â˜† | N/A |
| ROI | ____ | __% | __% | __% | â˜†â˜†â˜† | â˜†â˜†â˜† |
| å¡çˆ¾æ›¼ | ____ | __% | __% | __% | â˜†â˜†â˜†â˜† | â˜†â˜†â˜†â˜† |
| å¤šå°ºåº¦ | ____ | __% | __% | __% | â˜†â˜† | â˜†â˜† |
| çµ„åˆ | ____ | __% | __% | __% | â˜†â˜†â˜†â˜† | â˜†â˜†â˜†â˜†â˜† |

---

## ğŸ¯ é‡å°å ´æ™¯çš„æœ€ä½³é…ç½®

### å ´æ™¯ 1: é«˜é€Ÿå‚³é€å¸¶ï¼ˆç‰©é«”å¿«é€Ÿç§»å‹•ï¼‰

```ini
[Detection]
use_kalman_filter = 1
confidence_threshold = 0.25
use_adaptive_tracking = 1

[Camera1]
use_roi = 1
kalman_process_noise = 0.2
kalman_measure_noise = 0.3
```

**é æœŸ**:
- FPS: 20+
- ç²¾åº¦: 95%+

---

### å ´æ™¯ 2: ä½é€Ÿç”Ÿç”¢ç·šï¼ˆç‰©é«”ç·©æ…¢ç§»å‹•ï¼‰

```ini
[Detection]
use_kalman_filter = 1
use_multi_scale = 1
multi_scale_factors = 0.85,1.0,1.15
confidence_threshold = 0.3

[Camera1]
use_roi = 1
kalman_process_noise = 0.05
kalman_measure_noise = 0.6
```

**é æœŸ**:
- FPS: 8-12
- ç²¾åº¦: 98%+

---

### å ´æ™¯ 3: å…‰ç·šè®ŠåŒ–å¤§ï¼ˆç’°å¢ƒä¸ç©©å®šï¼‰

```ini
[Detection]
use_kalman_filter = 1
use_adaptive_tracking = 1
use_dynamic_threshold = 1

[Camera1]
kalman_process_noise = 0.15
kalman_measure_noise = 0.4
```

**é æœŸ**:
- è‡ªå‹•é©æ‡‰å…‰ç·šè®ŠåŒ–
- èª¤æª¢ç‡ < 10%

---

## ğŸ” é€æ­¥å„ªåŒ–æŒ‡å—

### ç¬¬ 1 é€±: åŸºæº–æ¸¬è©¦å’Œ ROI å„ªåŒ–

1. æ¸¬è©¦åŸºæº–æ€§èƒ½ï¼ˆç„¡å„ªåŒ–ï¼‰
2. å•Ÿç”¨ ROIï¼Œèª¿æ•´é‚Šç•Œ
3. é¸æ“‡èƒ½æ¥å—çš„æœ€å° ROI

**æª¢æŸ¥é»**:
- [ ] ç¢ºèª FPS æå‡ 30%+
- [ ] ç¢ºèªæ²’æœ‰é‡è¦æ¼æª¢
- [ ] ä¿å­˜æœ€ä½³ ROI é…ç½®

### ç¬¬ 2 é€±: è¿½è¹¤å„ªåŒ–

1. å•Ÿç”¨å¡çˆ¾æ›¼æ¿¾æ³¢
2. èª¿æ•´ process_noise å’Œ measure_noise
3. æ¸¬è©¦ä¸åŒç’°å¢ƒ

**æª¢æŸ¥é»**:
- [ ] è»Œè·¡æŠ–å‹•æ¸›å°‘
- [ ] è»Œè·¡é€£çºŒæ€§æå‡
- [ ] æª¢æ¸¬æº–ç¢ºåº¦ä¸ä¸‹é™

### ç¬¬ 3 é€±: ç´°èª¿å’Œæ¸¬è©¦

1. å˜—è©¦çµ„åˆå„ªåŒ–
2. åœ¨å¯¦éš›å·¥ä½œç’°å¢ƒæ¸¬è©¦
3. è¨˜éŒ„é•·æœŸæ€§èƒ½

**æª¢æŸ¥é»**:
- [ ] è¿è¡Œ 24 å°æ™‚æ¸¬è©¦
- [ ] è¨˜éŒ„æœ€å¤§/å¹³å‡/æœ€å° FPS
- [ ] æª¢æŸ¥å†…å­˜æ´©æ¼
- [ ] é©—è­‰ç¹¼é›»å™¨è§¸ç™¼æº–ç¢ºåº¦

---

## ğŸ“ˆ æ€§èƒ½æ›²ç·šæ¸¬è©¦

é‹è¡Œä»¥ä¸‹ Python è…³æœ¬è¨˜éŒ„æ€§èƒ½æ›²ç·šï¼š

```python
import time
import statistics

fps_list = []
start = time.time()

while time.time() - start < 300:  # 5 åˆ†é˜æ¸¬è©¦
    # è¨˜éŒ„æ¯å¹€ FPS
    fps_list.append(current_fps)
    time.sleep(0.033)  # ~30 FPS

print(f"å¹³å‡ FPS: {statistics.mean(fps_list):.1f}")
print(f"æœ€å° FPS: {min(fps_list):.1f}")
print(f"æœ€å¤§ FPS: {max(fps_list):.1f}")
print(f"æ¨™æº–å·®: {statistics.stdev(fps_list):.1f}")
```

---

## âœ… æœ€çµ‚æª¢æŸ¥æ¸…å–®

å„ªåŒ–å®Œæˆå‰ï¼Œç¢ºèªä»¥ä¸‹é …ç›®ï¼š

- [ ] æª¢æ¸¬æº–ç¢ºåº¦ > 95%
- [ ] FPS > 15 (æœ€å°)
- [ ] æ¼æª¢ç‡ < 5%
- [ ] èª¤æª¢ç‡ < 10%
- [ ] è»Œè·¡é€£çºŒæ€§è‰¯å¥½
- [ ] ç¹¼é›»å™¨è§¸ç™¼æº–ç¢º
- [ ] è¨˜æ†¶é«”ä½¿ç”¨ç©©å®š
- [ ] é‹è¡Œ 1 å°æ™‚ç„¡å´©æ½°
- [ ] é…ç½®å·²å‚™ä»½
- [ ] æ–‡æª”å·²æ›´æ–°

---

## ğŸ› å¸¸è¦‹å•é¡Œè§£æ±º

### Q: å•Ÿç”¨å¤šå°ºåº¦å¾Œ FPS æ‰å¾—å¤ªå¤š

**A**: é€™æ˜¯æ­£å¸¸çš„ï¼Œå› ç‚ºè¦æª¢æ¸¬ 3 å€‹å°ºåº¦ã€‚é¸æ“‡ï¼š
1. ç¦ç”¨å¤šå°ºåº¦ï¼Œæ”¹ç”¨ ROI
2. æˆ–åªä½¿ç”¨ 2 å€‹å°ºåº¦: `0.85,1.0`

### Q: ROI è¨­ç½®å¾Œæ¼æª¢å¢åŠ 

**A**: æª¢æŸ¥ ROI é‚Šç•Œæ˜¯å¦å¤ªå°ï¼š
```ini
# ç¾åœ¨çš„é‚Šç•Œ
roi_x1 = 300
roi_x2 = 1620

# æ“´å¤§ 100px
roi_x1 = 200
roi_x2 = 1720
```

### Q: å¡çˆ¾æ›¼æ¿¾æ³¢å¾Œè»Œè·¡å»¶é²

**A**: å¢åŠ  process_noiseï¼ˆç›¸ä¿¡æ¸¬é‡å€¼æ›´å¤šï¼‰ï¼š
```ini
kalman_process_noise = 0.3  # ä¹‹å‰: 0.1
```

### Q: è‡ªé©æ‡‰è¿½è¹¤ä¸å·¥ä½œ

**A**: ç¢ºèªå•Ÿç”¨äº†ï¼š
```ini
use_adaptive_tracking = 1  # å¿…é ˆæ˜¯ 1
```

---

## ğŸ“ æ”¯æŒå’Œåé¥‹

å¦‚é‡åˆ°å•é¡Œæˆ–æœ‰å»ºè­°ï¼Œè«‹è¨˜éŒ„ï¼š

1. é…ç½®æ–‡ä»¶å…§å®¹
2. ç³»çµ±è¦æ ¼ (CPU, GPU, è¨˜æ†¶é«”)
3. è¦–é »è§£æåº¦å’Œ FPS
4. å…·é«”å•é¡Œå’Œæˆªåœ–

---

**é–‹å§‹å„ªåŒ–ä¹‹æ—…å§ï¼ ğŸš€**

é æœŸçµæœ:
- ğŸ¯ ç²¾åº¦: 95%+ âœ“
- âš¡ é€Ÿåº¦: 20+ FPS âœ“
- ğŸ¬ è»Œè·¡: å¹³æ»‘ç©©å®š âœ“
